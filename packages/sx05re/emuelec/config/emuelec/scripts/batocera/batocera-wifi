#!/bin/bash

ACTION=$1
shift

do_help() {
    echo "${1} scanlist" >&2
    echo "${1} list" >&2
}

remove_last_word() {
    echo "${@:1:$#-1}"
}

do_list() {
    nmcli -f SSID dev wifi | tail -n +2 | sed -r 's/\s*$//'
}

do_scanlist() {
#    nmcli -f SSID dev wifi | tail -n +2 | sed -r 's/\s*$//'
#    connmanctl scan wifi >/dev/null 2>/dev/null
    do_list
}

case "${ACTION}" in
    "list")
	do_list
	;;
    "scanlist")
	do_scanlist
	;;
    *)
	do_help "${0}"
esac
